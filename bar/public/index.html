<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <title>Carregando…</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body>

<p style="padding:20px;font-family:system-ui">Carregando…</p>

<script>
(async () => {
  try {
    // lê o config.json
    const res = await fetch("./config.json", { cache: "no-store" })
    const config = await res.json()

    // mantém parâmetros da URL (?app=...)
    const params = window.location.search || ""

    // decide destino
    if (config.modo_site === "institucional") {
      window.location.href = "./site.html" + params
    } else {
      window.location.href = "./cardapio.html" + params
    }
  } catch (e) {
    document.body.innerHTML =
      "<h2 style='padding:20px'>Erro ao carregar configuração</h2>"
  }
})()
</script>

</body>
</html>
