<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<title>FF SoluÃ§Ãµes | Tecnologia</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body{
  margin:0;
  font-family:'Segoe UI',sans-serif;
  background:#0b1b29;
  color:#cbd5e1;
}

/* TOPO */
header{
  background:linear-gradient(90deg,#0b3d1a,#2f8f4e);
  padding:16px;
  text-align:center;
}
header h1{
  margin:0;
  color:#fff;
}
header small{
  color:#b7f3d8;
}

/* BUSCA */
.search-box{
  padding:12px;
  background:#0e2a47;
}
.search-box input{
  width:100%;
  padding:10px;
  border-radius:8px;
  border:1px solid #1da1f2;
  background:#081621;
  color:#fff;
}

/* CATEGORIAS */
#categorias{
  display:flex;
  gap:8px;
  padding:10px;
  overflow-x:auto;
  background:#081621;
}
#categorias button{
  background:#1da1f2;
  border:none;
  padding:6px 12px;
  border-radius:20px;
  cursor:pointer;
  font-weight:bold;
}

/* PRODUTOS */
.catalogo{
  padding:12px;
}
.produto{
  background:#0e2a47;
  display:flex;
  align-items:center;
  padding:12px;
  margin-bottom:10px;
  border-radius:12px;
}
.produto img{
  width:70px;
  height:70px;
  object-fit:cover;
  border-radius:8px;
  margin-right:10px;
}
.produto-info{
  flex:1;
}
.produto-info h3{
  margin:0;
  color:#fff;
}
.produto-info p{
  margin:5px 0;
  color:#7bd8a9;
  font-weight:bold;
}
.produto button{
  background:#2f8f4e;
  border:none;
  padding:8px 12px;
  border-radius:8px;
  color:#fff;
  cursor:pointer;
}

/* CARRINHO */
#carrinho-container{
  background:#0e2a47;
  padding:12px;
  margin:12px;
  border-radius:12px;
  display:none;
}
.carrinho-item{
  display:flex;
  justify-content:space-between;
  margin:6px 0;
}
.qtd{
  display:flex;
  gap:6px;
  align-items:center;
}
.qtd button{
  background:#1da1f2;
  border:none;
  padding:4px 8px;
  border-radius:5px;
  cursor:pointer;
}
#btnFinalizar{
  width:100%;
  margin-top:12px;
  padding:12px;
  background:#2f8f4e;
  border:none;
  border-radius:8px;
  color:#fff;
  font-weight:bold;
  cursor:pointer;
}
</style>
</head>
<body>

<header>
<h1>âš¡ FF SoluÃ§Ãµes</h1>
<small>Av. LuÃ­s de Negreiros Sobrinho, nÂº 150 â€¢ (89) 98145-2698</small>
</header>

<div class="search-box">
<input id="pesquisa" placeholder="ðŸ” Pesquisar..." onkeyup="filtrar()">
</div>

<div id="categorias"></div>
<div id="catalogo" class="catalogo"></div>

<div id="carrinho-container">
<h2>ðŸ›’ Carrinho</h2>
<div id="carrinho-itens"></div>
<strong>Total: R$ <span id="total">0.00</span></strong>
<input id="clienteNome" placeholder="Seu nome" style="width:100%;margin-top:10px;padding:8px;border-radius:6px;">
<button id="btnFinalizar">Finalizar no WhatsApp</button>
</div>

<script>
let carrinho = [];

// ðŸ”¥ Carregar produtos do localStorage
function carregarProdutos(){
  const dados = localStorage.getItem("produtosFF");
  return dados ? JSON.parse(dados) : [];
}

function carregarCategorias(){
  const produtos = carregarProdutos();
  const cats = [...new Set(produtos.map(p=>p.categoria))];
  const div = document.getElementById("categorias");

  div.innerHTML = `<button onclick="mostrar()">Todos</button>`;
  cats.forEach(c=>{
    div.innerHTML += `<button onclick="filtrarCategoria('${c}')">${c}</button>`;
  });
}

function mostrar(lista=null){
  const produtos = carregarProdutos();
  const catalogo = document.getElementById("catalogo");
  catalogo.innerHTML = "";

  const exibir = lista || produtos;

  exibir.forEach(p=>{
    catalogo.innerHTML += `
    <div class="produto">
      <img src="${p.imagem}">
      <div class="produto-info">
        <h3>${p.nome}</h3>
        <p>R$ ${parseFloat(p.preco).toFixed(2)}</p>
      </div>
      <button onclick="add(${p.id})">Adicionar</button>
    </div>`;
  });
}

function filtrarCategoria(cat){
  const produtos = carregarProdutos();
  mostrar(produtos.filter(p=>p.categoria===cat));
}

function add(id){
  const produtos = carregarProdutos();
  const prod = produtos.find(p=>p.id===id);
  const existe = carrinho.find(i=>i.id===id);

  if(existe){ existe.qtd++; }
  else{ carrinho.push({...prod,qtd:1}); }

  atualizarCarrinho();
}

function atualizarCarrinho(){
  const div=document.getElementById("carrinho-container");
  const itens=document.getElementById("carrinho-itens");
  div.style.display="block";
  itens.innerHTML="";
  let total=0;

  carrinho.forEach((i,index)=>{
    total+=i.preco*i.qtd;
    itens.innerHTML+=`
    <div class="carrinho-item">
      <span>${i.nome} x${i.qtd}</span>
      <span>R$ ${(i.preco*i.qtd).toFixed(2)}</span>
    </div>`;
  });

  document.getElementById("total").innerText=total.toFixed(2);
}

document.getElementById("btnFinalizar").onclick=function(){
  const nome=document.getElementById("clienteNome").value;
  if(!nome){ alert("Digite seu nome"); return; }

  let msg=`OlÃ¡ FF SoluÃ§Ãµes!%0APedido de: ${nome}%0A%0A`;
  carrinho.forEach(i=>{
    msg+=`${i.nome} x${i.qtd} - R$ ${(i.preco*i.qtd).toFixed(2)}%0A`;
  });

  let total=carrinho.reduce((s,i)=>s+i.preco*i.qtd,0);
  msg+=`%0ATotal: R$ ${total.toFixed(2)}`;

  window.open(`https://wa.me/5589981452698?text=${msg}`);
};

carregarCategorias();
mostrar();
</script>

</body>
</html>

